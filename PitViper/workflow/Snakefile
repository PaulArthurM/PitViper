from snakemake.utils import min_version
min_version("5.24.0")

include: "rules/commons.smk"

## MAGeCK subworkflow
subworkflow MAGeCK_workflow:
    # workdir:
    #     "../../subworkflows/MAGeCK/"
    snakefile:
        "../../subworkflows/MAGeCK/workflow/Snakefile"
    configfile:
        "../subworkflows/MAGeCK/config/configfile.yaml"

rule all:
    input:
        #get_pipeline_outputs
        "results/development/test_succeed.txt"

rule a:
    input:
        a=MAGeCK_workflow("results/{token}/MAGeCK_MLE/{name}.sgrna_summary.txt"),
        b=MAGeCK_workflow("results/{token}/notebooks/MAGeCK_MLE_{name}.txt")
    output:
        "results/{token}/{name}_succeed.txt"
    shell:
        "echo '{wildcards.name} succeed.' > {output}"


# rule a:
#     input:
#         ""
#     output:
#         MAGeCK_workflow("results/{token}/MAGeCK_MLE/{name}.sgrna_summary.txt")
